# MoneyTrace 前端功能说明

## 🎨 全新界面特性

我已经为您创建了一个**功能完整、美观现代**的记账软件前端！

### ✨ 主要功能

#### 1. 双模式记账
- **💸 支出模式**：记录日常开销
- **💰 收入模式**：记录收入来源
- 一键切换，自动更新分类选项

#### 2. 智能分类系统

**支出分类（8种）：**
- 餐饮、交通、购物、娱乐
- 医疗、住房、教育、其他

**收入分类（6种）：**
- 工资、奖金、投资
- 兼职、礼金、其他

#### 3. 实时统计面板
- **总余额**：收入 - 支出
- **总收入**：所有收入的总和
- **总支出**：所有支出的总和
- **记录数**：交易记录总数

#### 4. 交易记录管理
- **完整列表**：显示所有交易记录
- **智能过滤**：全部 / 收入 / 支出
- **快速删除**：一键删除不需要的记录
- **时间显示**：今天、昨天、X天前

#### 5. 优雅的用户界面
- **紫色渐变主题**：现代、专业
- **响应式设计**：适配各种屏幕尺寸
- **流畅动画**：按钮悬停、点击效果
- **清晰布局**：左侧表单，右侧列表

## 📁 文件结构

```
frontend/
├── index.html              # HTML 入口（已更新）
├── src/
│   ├── main.tsx           # React 入口
│   ├── pages/
│   │   └── App.tsx        # 主应用组件（全新）
│   └── styles/
│       └── App.css        # 样式表（全新）
├── package.json
├── tsconfig.json
├── tsconfig.node.json
└── vite.config.ts
```

## 🎯 核心组件说明

### App.tsx 主要功能

```typescript
// 状态管理
- type: 交易类型（收入/支出）
- amount: 金额
- category: 分类
- note: 备注
- transactions: 交易记录列表
- filter: 过滤器（全部/收入/支出）

// 主要函数
- handleCreate(): 创建新交易记录
- handleDelete(): 删除交易记录
- formatDate(): 格式化日期显示
- 统计计算: 自动计算收入、支出、余额
```

### 样式特点（App.css）

- **渐变背景**：紫色主题
- **卡片设计**：白色圆角卡片
- **颜色编码**：
  - 收入：绿色渐变
  - 支出：橙红色渐变
  - 余额：紫色渐变
- **交互效果**：悬停、点击动画
- **自定义滚动条**：美化列表滚动

## 🚀 运行指南

### 本地开发

```bash
# 1. 安装依赖
cd frontend
npm install

# 2. 启动开发服务器
npm run dev

# 3. 访问
# 浏览器打开 http://localhost:5173
```

### 配合后端运行

```bash
# 终端 1 - 启动后端
cd backend
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000

# 终端 2 - 启动前端
cd frontend
npm install
npm run dev
```

### 生产构建

```bash
cd frontend
npm run build

# 构建产物在 dist/ 目录
# 可以通过后端的静态文件服务访问
```

## 💡 使用示例

### 1. 记录支出

1. 确保选择 **💸 支出** 模式
2. 输入金额：`50.00`
3. 选择分类：`餐饮`
4. 添加备注：`午餐`（可选）
5. 点击 **✓ 添加记录**

### 2. 记录收入

1. 切换到 **💰 收入** 模式
2. 输入金额：`5000.00`
3. 选择分类：`工资`
4. 添加备注：`1月工资`（可选）
5. 点击 **✓ 添加记录**

### 3. 查看统计

- 顶部统计卡片自动更新
- 显示总余额、总收入、总支出
- 实时计算，无需刷新

### 4. 过滤记录

- 点击 **全部** 查看所有记录
- 点击 **收入** 只看收入记录
- 点击 **支出** 只看支出记录

### 5. 删除记录

- 在交易列表中找到要删除的记录
- 点击右侧的 **✕** 按钮
- 记录立即删除（前端删除，不影响后端）

## 🎨 界面预览

### 主界面布局

```
┌─────────────────────────────────────────────────┐
│         💰 MoneyTrace                           │
│         简单、优雅的记账工具                      │
├─────────────────┬───────────────────────────────┤
│  统计面板        │                               │
│  ┌─────┬─────┐  │                               │
│  │余额 │收入 │  │      交易记录列表              │
│  ├─────┼─────┤  │                               │
│  │支出 │记录 │  │   [全部] [收入] [支出]        │
│  └─────┴─────┘  │                               │
│                 │   💸 餐饮  -¥50.00  [✕]       │
│  记账表单        │   午餐                         │
│  [💸支出][💰收入]│   今天                         │
│                 │                               │
│  金额: [____]   │   💰 工资  +¥5000.00 [✕]     │
│  分类: [____]   │   1月工资                      │
│  备注: [____]   │   昨天                         │
│                 │                               │
│  [✓ 添加记录]   │   ...更多记录...              │
└─────────────────┴───────────────────────────────┘
```

## 🔧 技术栈

- **React 18** - UI 框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **CSS3** - 样式（渐变、动画）
- **Fetch API** - 后端通信

## 📝 注意事项

### 当前限制

1. **前端存储**：交易记录存储在组件状态中
   - 刷新页面会丢失数据
   - 建议后续添加 localStorage 持久化

2. **后端集成**：当前只有创建功能调用后端
   - 删除操作仅在前端生效
   - 建议后续添加完整的 CRUD API

3. **数据验证**：基本的表单验证
   - 金额必填
   - 金额必须为数字
   - 建议后续添加更多验证规则

### 改进建议

1. **数据持久化**
   ```typescript
   // 使用 localStorage
   useEffect(() => {
     localStorage.setItem('transactions', JSON.stringify(transactions));
   }, [transactions]);
   ```

2. **添加加载状态**
   - 初始加载时显示骨架屏
   - 数据加载中显示 loading 动画

3. **错误处理**
   - 网络错误提示
   - 表单验证错误提示
   - 操作失败重试机制

4. **功能扩展**
   - 日期范围筛选
   - 按分类统计图表
   - 导出数据功能
   - 搜索功能

## 🎉 完成状态

✅ 双模式记账（收入/支出）
✅ 智能分类系统
✅ 实时统计面板
✅ 交易记录列表
✅ 过滤和删除功能
✅ 响应式设计
✅ 美观的 UI 界面
✅ 时间格式化显示

## 🚀 下一步

1. **测试前端**：运行 `npm run dev` 查看效果
2. **配合后端**：确保后端 API 正常运行
3. **部署到 Railway**：提交代码，自动部署
4. **功能扩展**：根据需求添加更多功能

祝您使用愉快！💰✨
